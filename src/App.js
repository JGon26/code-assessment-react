import { useState, useEffect } from 'react';
import axios from 'axios';
import './App.css';
import TruckList from './components/TruckList.js';
import MapContainer from './components/MapContainer.js';
import Nav from './components/Nav.js';
import MoreInfoModal from './components/MoreInfoModal.js';

const App = () => {

  const [truckList, updateTruckList] = useState([{"id":1,"name":"Ferry-Hilll","url":"http://creativecommons.org/lobortis/vel.jpg","address":"4428 Thompson Plaza","city":"Bozeman","state":"MT","postal_code":"59771","latitude":45.7246,"longitude":-111.1238,"monday_open":"9:43 AM","monday_close":"7:56 PM","tuesday_open":"7:47 AM","tuesday_close":"5:21 PM","wednesday_open":"7:31 AM","wednesday_close":"5:52 PM","thursday_open":"9:01 AM","thursday_close":"9:24 PM","friday_open":"6:34 AM","friday_close":"8:44 PM","saturday_open":"7:05 AM","saturday_close":"4:25 PM","sunday_open":"7:12 AM","sunday_close":"8:30 PM"},{"id":2,"name":"Hansen-Kemmer","url":"http://elpais.com/morbi/vestibulum.png","address":"9313 Division Junction","city":"Baton Rouge","state":"LA","postal_code":"70894","latitude":30.5159,"longitude":-91.0804,"monday_open":"7:23 AM","monday_close":"6:00 PM","tuesday_open":"7:01 AM","tuesday_close":"4:16 PM","wednesday_open":"9:35 AM","wednesday_close":"5:10 PM","thursday_open":"6:11 AM","thursday_close":"5:49 PM","friday_open":"6:59 AM","friday_close":"7:38 PM","saturday_open":"6:36 AM","saturday_close":"5:42 PM","sunday_open":"8:58 AM","sunday_close":"8:53 PM"},{"id":3,"name":"Abernathy Group","url":"https://mac.com/viverra/dapibus.js","address":"298 Bellgrove Park","city":"Atlanta","state":"GA","postal_code":"30375","latitude":33.8444,"longitude":-84.474,"monday_open":"6:54 AM","monday_close":"8:20 PM","tuesday_open":"6:41 AM","tuesday_close":"7:07 PM","wednesday_open":"7:59 AM","wednesday_close":"4:33 PM","thursday_open":"6:03 AM","thursday_close":"9:25 PM","friday_open":"9:46 AM","friday_close":"7:49 PM","saturday_open":"6:59 AM","saturday_close":"4:19 PM","sunday_open":"7:39 AM","sunday_close":"7:29 PM"},{"id":4,"name":"Zemlak-Ernser","url":"http://cbc.ca/bibendum/felis.json","address":"3 Granby Drive","city":"San Angelo","state":"TX","postal_code":"76905","latitude":31.4647,"longitude":-100.39,"monday_open":"9:00 AM","monday_close":"4:26 PM","tuesday_open":"9:04 AM","tuesday_close":"9:35 PM","wednesday_open":"6:44 AM","wednesday_close":"7:07 PM","thursday_open":"6:25 AM","thursday_close":"6:52 PM","friday_open":"9:31 AM","friday_close":"4:04 PM","saturday_open":"9:47 AM","saturday_close":"7:43 PM","sunday_open":"8:44 AM","sunday_close":"8:28 PM"},{"id":5,"name":"Kutch-Prohaska","url":"http://bbc.co.uk/erat/fermentum/justo/nec.jpg","address":"2 Hoffman Junction","city":"Herndon","state":"VA","postal_code":"22070","latitude":38.9776,"longitude":-77.386,"monday_open":"6:53 AM","monday_close":"4:36 PM","tuesday_open":"6:26 AM","tuesday_close":"7:48 PM","wednesday_open":"6:21 AM","wednesday_close":"8:21 PM","thursday_open":"6:27 AM","thursday_close":"5:24 PM","friday_open":"7:08 AM","friday_close":"6:11 PM","saturday_open":"6:38 AM","saturday_close":"5:42 PM","sunday_open":"7:33 AM","sunday_close":"9:20 PM"},{"id":6,"name":"Buckridge and Sons","url":"https://mlb.com/lectus/in/quam.json","address":"116 Hazelcrest Center","city":"Sandy","state":"UT","postal_code":"84093","latitude":40.5927,"longitude":-111.831,"monday_open":"8:36 AM","monday_close":"8:10 PM","tuesday_open":"8:12 AM","tuesday_close":"4:40 PM","wednesday_open":"9:21 AM","wednesday_close":"8:17 PM","thursday_open":"9:43 AM","thursday_close":"6:30 PM","friday_open":"6:29 AM","friday_close":"8:55 PM","saturday_open":"8:49 AM","saturday_close":"9:40 PM","sunday_open":"7:35 AM","sunday_close":"5:30 PM"},{"id":7,"name":"Greenfelder Inc","url":"https://oaic.gov.au/vestibulum/velit/id/pretium/iaculis/diam/erat.json","address":"1 Brentwood Parkway","city":"Washington","state":"DC","postal_code":"20231","latitude":38.8933,"longitude":-77.0146,"monday_open":"7:12 AM","monday_close":"6:21 PM","tuesday_open":"9:29 AM","tuesday_close":"6:29 PM","wednesday_open":"9:21 AM","wednesday_close":"9:49 PM","thursday_open":"6:22 AM","thursday_close":"9:09 PM","friday_open":"8:37 AM","friday_close":"9:09 PM","saturday_open":"8:35 AM","saturday_close":"4:33 PM","sunday_open":"8:41 AM","sunday_close":"9:19 PM"},{"id":8,"name":"Friesen, Mosciski and Rowe","url":"http://indiegogo.com/nulla/mollis/molestie/lorem/quisque/ut.js","address":"8 Shopko Street","city":"Peoria","state":"IL","postal_code":"61651","latitude":40.7442,"longitude":-89.7184,"monday_open":"8:46 AM","monday_close":"7:35 PM","tuesday_open":"7:53 AM","tuesday_close":"9:01 PM","wednesday_open":"9:25 AM","wednesday_close":"9:25 PM","thursday_open":"7:20 AM","thursday_close":"5:11 PM","friday_open":"9:31 AM","friday_close":"5:53 PM","saturday_open":"8:03 AM","saturday_close":"5:05 PM","sunday_open":"8:44 AM","sunday_close":"6:41 PM"},{"id":9,"name":"Stroman LLC","url":"https://bloomberg.com/luctus/et.xml","address":"61802 Pawling Way","city":"Marietta","state":"GA","postal_code":"30066","latitude":34.0378,"longitude":-84.5038,"monday_open":"6:09 AM","monday_close":"6:43 PM","tuesday_open":"8:16 AM","tuesday_close":"5:21 PM","wednesday_open":"6:49 AM","wednesday_close":"7:30 PM","thursday_open":"9:45 AM","thursday_close":"8:26 PM","friday_open":"9:58 AM","friday_close":"5:28 PM","saturday_open":"8:05 AM","saturday_close":"7:46 PM","sunday_open":"7:14 AM","sunday_close":"7:34 PM"},{"id":10,"name":"Hirthe, Koepp and Nader","url":"https://vimeo.com/nunc/proin/at/turpis/a/pede.json","address":"726 Hoard Way","city":"San Francisco","state":"CA","postal_code":"94154","latitude":37.7848,"longitude":-122.7278,"monday_open":"6:29 AM","monday_close":"7:41 PM","tuesday_open":"7:48 AM","tuesday_close":"6:27 PM","wednesday_open":"7:08 AM","wednesday_close":"6:27 PM","thursday_open":"7:10 AM","thursday_close":"5:32 PM","friday_open":"8:56 AM","friday_close":"7:15 PM","saturday_open":"9:19 AM","saturday_close":"5:52 PM","sunday_open":"8:27 AM","sunday_close":"7:49 PM"},{"id":11,"name":"Mraz, Schmidt and Mosciski","url":"http://rakuten.co.jp/quam/nec/dui/luctus/rutrum.xml","address":"926 Oneill Junction","city":"Minneapolis","state":"MN","postal_code":"55448","latitude":45.1907,"longitude":-93.3021,"monday_open":"9:13 AM","monday_close":"4:51 PM","tuesday_open":"8:30 AM","tuesday_close":"6:14 PM","wednesday_open":"8:42 AM","wednesday_close":"9:45 PM","thursday_open":"7:09 AM","thursday_close":"5:38 PM","friday_open":"6:48 AM","friday_close":"9:28 PM","saturday_open":"6:37 AM","saturday_close":"9:48 PM","sunday_open":"6:47 AM","sunday_close":"6:43 PM"},{"id":12,"name":"Boehm, Miller and Turner","url":"https://microsoft.com/a/pede/posuere/nonummy/integer/non/velit.jpg","address":"9 Jackson Point","city":"Toledo","state":"OH","postal_code":"43656","latitude":41.6782,"longitude":-83.4972,"monday_open":"8:55 AM","monday_close":"7:17 PM","tuesday_open":"7:08 AM","tuesday_close":"9:52 PM","wednesday_open":"8:37 AM","wednesday_close":"5:20 PM","thursday_open":"7:01 AM","thursday_close":"7:47 PM","friday_open":"6:57 AM","friday_close":"6:36 PM","saturday_open":"9:31 AM","saturday_close":"7:34 PM","sunday_open":"6:35 AM","sunday_close":"7:08 PM"},{"id":13,"name":"Abshire Inc","url":"https://nydailynews.com/lectus/pellentesque/at/nulla/suspendisse/potenti/cras.html","address":"30097 Becker Drive","city":"Columbus","state":"OH","postal_code":"43204","latitude":39.9523,"longitude":-83.078,"monday_open":"8:42 AM","monday_close":"7:39 PM","tuesday_open":"9:12 AM","tuesday_close":"8:21 PM","wednesday_open":"8:43 AM","wednesday_close":"7:11 PM","thursday_open":"7:42 AM","thursday_close":"8:01 PM","friday_open":"6:36 AM","friday_close":"9:57 PM","saturday_open":"8:53 AM","saturday_close":"4:42 PM","sunday_open":"6:42 AM","sunday_close":"8:07 PM"},{"id":14,"name":"Dicki Group","url":"http://ihg.com/nulla/mollis/molestie/lorem/quisque.json","address":"7 David Point","city":"Lincoln","state":"NE","postal_code":"68510","latitude":40.8063,"longitude":-96.6545,"monday_open":"7:14 AM","monday_close":"8:39 PM","tuesday_open":"6:40 AM","tuesday_close":"4:01 PM","wednesday_open":"8:48 AM","wednesday_close":"9:10 PM","thursday_open":"6:30 AM","thursday_close":"8:01 PM","friday_open":"9:54 AM","friday_close":"7:13 PM","saturday_open":"9:06 AM","saturday_close":"6:18 PM","sunday_open":"6:54 AM","sunday_close":"4:29 PM"},{"id":15,"name":"Schumm, Dare and Auer","url":"https://upenn.edu/vel/lectus/in/quam/fringilla/rhoncus.jsp","address":"50842 Graceland Lane","city":"Las Vegas","state":"NV","postal_code":"89166","latitude":36.3265,"longitude":-115.3398,"monday_open":"8:43 AM","monday_close":"8:17 PM","tuesday_open":"6:40 AM","tuesday_close":"9:19 PM","wednesday_open":"6:01 AM","wednesday_close":"8:13 PM","thursday_open":"6:58 AM","thursday_close":"4:51 PM","friday_open":"8:13 AM","friday_close":"6:01 PM","saturday_open":"7:28 AM","saturday_close":"7:49 PM","sunday_open":"9:03 AM","sunday_close":"4:59 PM"},{"id":16,"name":"Terry, O'Conner and Hoeger","url":"http://prweb.com/aliquam/sit/amet/diam/in/magna/bibendum.html","address":"2 Fairfield Hill","city":"Orlando","state":"FL","postal_code":"32868","latitude":28.5663,"longitude":-81.2608,"monday_open":"9:26 AM","monday_close":"6:19 PM","tuesday_open":"9:15 AM","tuesday_close":"6:22 PM","wednesday_open":"8:43 AM","wednesday_close":"5:48 PM","thursday_open":"9:49 AM","thursday_close":"8:05 PM","friday_open":"8:28 AM","friday_close":"8:49 PM","saturday_open":"8:33 AM","saturday_close":"8:26 PM","sunday_open":"6:37 AM","sunday_close":"8:43 PM"},{"id":17,"name":"Dickinson Group","url":"https://e-recht24.de/nullam/porttitor/lacus.aspx","address":"564 Magdeline Hill","city":"Seattle","state":"WA","postal_code":"98185","latitude":47.4323,"longitude":-121.8034,"monday_open":"6:51 AM","monday_close":"7:27 PM","tuesday_open":"9:37 AM","tuesday_close":"4:16 PM","wednesday_open":"8:30 AM","wednesday_close":"7:25 PM","thursday_open":"6:29 AM","thursday_close":"5:29 PM","friday_open":"8:49 AM","friday_close":"7:39 PM","saturday_open":"6:47 AM","saturday_close":"8:20 PM","sunday_open":"8:53 AM","sunday_close":"9:54 PM"},{"id":18,"name":"Watsica Group","url":"http://uol.com.br/luctus.png","address":"19 Ridgeview Hill","city":"New Haven","state":"CT","postal_code":"06510","latitude":41.3087,"longitude":-72.9271,"monday_open":"9:07 AM","monday_close":"5:44 PM","tuesday_open":"8:37 AM","tuesday_close":"9:06 PM","wednesday_open":"8:39 AM","wednesday_close":"9:47 PM","thursday_open":"9:52 AM","thursday_close":"8:37 PM","friday_open":"8:11 AM","friday_close":"7:27 PM","saturday_open":"8:08 AM","saturday_close":"9:28 PM","sunday_open":"9:35 AM","sunday_close":"8:19 PM"},{"id":19,"name":"Mante-Kilback","url":"https://exblog.jp/vel/augue/vestibulum/rutrum/rutrum.js","address":"3 Merrick Lane","city":"Lexington","state":"KY","postal_code":"40576","latitude":38.0283,"longitude":-84.4715,"monday_open":"9:35 AM","monday_close":"8:46 PM","tuesday_open":"9:20 AM","tuesday_close":"8:22 PM","wednesday_open":"8:12 AM","wednesday_close":"9:39 PM","thursday_open":"6:20 AM","thursday_close":"6:54 PM","friday_open":"8:57 AM","friday_close":"7:18 PM","saturday_open":"7:30 AM","saturday_close":"4:47 PM","sunday_open":"6:52 AM","sunday_close":"9:37 PM"},{"id":20,"name":"Flatley LLC","url":"https://istockphoto.com/sit/amet/sapien/dignissim/vestibulum.json","address":"59520 Armistice Trail","city":"Birmingham","state":"AL","postal_code":"35242","latitude":33.3813,"longitude":-86.7046,"monday_open":"9:46 AM","monday_close":"7:37 PM","tuesday_open":"6:21 AM","tuesday_close":"9:48 PM","wednesday_open":"6:19 AM","wednesday_close":"8:55 PM","thursday_open":"7:27 AM","thursday_close":"8:21 PM","friday_open":"7:35 AM","friday_close":"8:48 PM","saturday_open":"7:47 AM","saturday_close":"9:21 PM","sunday_open":"8:03 AM","sunday_close":"5:50 PM"}]);

  const [cardClicked, updateCardClicked] = useState(false);
  const [currentTruck, updateCurrentTruck] = useState([]);
  const [modal, updateModal] = useState(false);


  // useEffect(()=> {
  //   axios({
  //     method: 'get',
  //     url: 'https://my.api.mockaroo.com/locations.json?key=a45f1200'
  //   })
  //     .then((result) => updateTruckList(result.data))
  // }, []);

  return (
    <div className="App">
      <Nav />
      <div id="listMapContainer">
        <TruckList truckList={truckList} updateCardClicked={updateCardClicked} updateCurrentTruck={updateCurrentTruck}
        updateModal={updateModal}/>
        <div id="mapContainer">
        <MapContainer cardClicked={cardClicked} truck={currentTruck} />
        <MoreInfoModal truck={currentTruck} showModal={modal} updateModal={updateModal}/>
        </div>
      </div>
    </div>
  );
}

export default App;
